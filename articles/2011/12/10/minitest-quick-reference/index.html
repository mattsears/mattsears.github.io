<html class="h-full antialiased js-focus-visible" data-js-focus-visible="" style="--header-position: sticky; --content-offset: 0px; --header-height: 64px; --header-mb: 0px; --avatar-image-transform: translate3d(0rem, 0, 0) scale(1); --avatar-border-transform: translate3d(-0.2222222222222222rem, 0, 0) scale(1.7777777777777777); --avatar-border-opacity: 0; --header-top: 0px; --avatar-top: 0px;" lang="en">
  <head>
  <meta charset="utf-8">

  
    <title>Matt Sears | Minitest Quick Reference</title>
  
  <link rel="icon" href="/assets/images/me.png" type="image/x-icon" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open Sans">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <script src="/assets/builds/application.js"></script>
  <link href="/assets/builds/application.css" rel="stylesheet" type="text/css" media="all" />
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Minitest Quick Reference | Matt Sears</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Minitest Quick Reference" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="UPDATE: I’ve added a new section on stubbing with MiniTest and a few helpful comments to the code samples. MiniTest, as the name suggests, is a small and fast unit testing framework. Shipped with Ruby 1.9, MiniTest supports a complete suite of testing capabilities such as TDD, BDD, mocking, and benchmarking." />
<meta property="og:description" content="UPDATE: I’ve added a new section on stubbing with MiniTest and a few helpful comments to the code samples. MiniTest, as the name suggests, is a small and fast unit testing framework. Shipped with Ruby 1.9, MiniTest supports a complete suite of testing capabilities such as TDD, BDD, mocking, and benchmarking." />
<link rel="canonical" href="https://mattsears.com/articles/2011/12/10/minitest-quick-reference/" />
<meta property="og:url" content="https://mattsears.com/articles/2011/12/10/minitest-quick-reference/" />
<meta property="og:site_name" content="Matt Sears" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2011-12-10T22:46:34+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Minitest Quick Reference" />
<script type="application/ld+json">
{"description":"UPDATE: I’ve added a new section on stubbing with MiniTest and a few helpful comments to the code samples. MiniTest, as the name suggests, is a small and fast unit testing framework. Shipped with Ruby 1.9, MiniTest supports a complete suite of testing capabilities such as TDD, BDD, mocking, and benchmarking.","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mattsears.com/assets/images/me.png"}},"url":"https://mattsears.com/articles/2011/12/10/minitest-quick-reference/","headline":"Minitest Quick Reference","dateModified":"2011-12-10T22:46:34+00:00","datePublished":"2011-12-10T22:46:34+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mattsears.com/articles/2011/12/10/minitest-quick-reference/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

  <body class="flex h-full flex-col bg-zinc-50 dark:bg-black">
    <div id="__next">
      <div class="fixed inset-0 flex justify-center sm:px-8">
        <div class="flex w-full max-w-7xl lg:px-8">
          <div class="w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20"></div>
        </div>
      </div>
      <div class="relative">
        <header class="pointer-events-none relative z-50 flex flex-col" style="height: 64px;">
  <div class="top-0 z-10 h-16 pt-6" style="position:var(--header-position)">
    <div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full" style="position:var(--header-inner-position)">
      <div class="mx-auto max-w-7xl lg:px-8">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div class="relative flex gap-4">
              <div class="flex flex-1">
                <div class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10"><a aria-label="Home" class="pointer-events-auto" href="/">
                  <img alt="" sizes="2.25rem" srcset="" src="/assets/images/me.png" decoding="async" data-nimg="future" class="rounded-full bg-zinc-100 object-cover dark:bg-zinc-800 h-9 w-9" style="color: transparent;" width="512" height="512"></a></div>
              </div>
              <div class="flex flex-1 justify-end md:justify-center">
                <div class="pointer-events-auto md:hidden" data-headlessui-state="">
                  <button class="group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20" id="headlessui-popover-button-:Rqb6:" type="button" aria-expanded="false" data-headlessui-state="">
                    Menu
                    <svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400">
                      <path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                  </button>
                </div>
                
<nav class="pointer-events-auto hidden md:block">
  <ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10">
    
    <li>
      <a class="relative block px-3 py-2 transition  hover:text-teal-500 dark:hover:text-teal-400  " href="/">
        Home
        
      </a>
    </li>
    
    <li>
      <a class="relative block px-3 py-2 transition  hover:text-teal-500 dark:hover:text-teal-400  " href="/about/">
        About
        
      </a>
    </li>
    
    <li>
      <a class="relative block px-3 py-2 transition  hover:text-teal-500 dark:hover:text-teal-400  " href="/articles/">
        Journal
        
      </a>
    </li>
    
    <li>
      <a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400 " href="#contact" data-name="matt" data-domain="mattsears" data-tld="com" onclick="window.location.href = 'mailto:' + this.dataset.name + '@' + this.dataset.domain + '.' + this.dataset.tld; return false;">Contact </a>
    </li>
  </ul>

</nav>



              </div>
              <div class="flex justify-end md:flex-1 ">
                <div class="pointer-events-auto ">
                  <button type="button"
                          aria-label="Toggle dark mode"
                          data-controller='toggle-mode'
                          data-action='click->toggle-mode#toggleMode'
                          class="group rounded-full bg-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20">
                    <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" class="h-6 w-6 fill-zinc-100 stroke-zinc-500 transition group-hover:fill-zinc-200 group-hover:stroke-zinc-700 dark:hidden [@media(prefers-color-scheme:dark)]:fill-teal-50 [@media(prefers-color-scheme:dark)]:stroke-teal-500 [@media(prefers-color-scheme:dark)]:group-hover:fill-teal-50 [@media(prefers-color-scheme:dark)]:group-hover:stroke-teal-600">
                      <path d="M8 12.25A4.25 4.25 0 0 1 12.25 8v0a4.25 4.25 0 0 1 4.25 4.25v0a4.25 4.25 0 0 1-4.25 4.25v0A4.25 4.25 0 0 1 8 12.25v0Z"></path>
                      <path d="M12.25 3v1.5M21.5 12.25H20M18.791 18.791l-1.06-1.06M18.791 5.709l-1.06 1.06M12.25 20v1.5M4.5 12.25H3M6.77 6.77 5.709 5.709M6.77 17.73l-1.061 1.061" fill="none"></path>
                    </svg>
                    <svg viewBox="0 0 24 24" aria-hidden="true" class="hidden h-6 w-6 fill-zinc-700 stroke-zinc-500 transition dark:block [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-400 [@media_not_(prefers-color-scheme:dark)]:fill-teal-400/10 [@media_not_(prefers-color-scheme:dark)]:stroke-teal-500">
                      <path d="M17.25 16.22a6.937 6.937 0 0 1-9.47-9.47 7.451 7.451 0 1 0 9.47 9.47ZM12.75 7C17 7 17 2.75 17 2.75S17 7 21.25 7C17 7 17 11.25 17 11.25S17 7 12.75 7Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

        <main>
          <div class="sm:px-8 mt-16 lg:mt-32">
            <div class="mx-auto max-w-7xl lg:px-8">
              <div class="relative px-4 sm:px-8 lg:px-12">
                <div class="mx-auto max-w-2xl lg:max-w-5xl">
                  <div class="xl:relative">
                    <div class="mx-auto max-w-3xl">
                      
                      <a type="button" href="/articles/2013/12/17/a-guide-for-writing-maintainable-rails-tests/" aria-label="Go back to articles" class=" group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20 lg:absolute lg:-left-5 lg:mb-0 lg:-mt-2 xl:-top-1.5 xl:left-0 xl:mt-0">

                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75" />
                        </svg>
                      </a>
                      

                      
                      <a type="button" href="/articles/2011/11/27/ruby-blocks-as-dynamic-callbacks/" aria-label="" class="group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20 lg:absolute lg:-right-5 lg:mb-0 lg:-mt-2 xl:-top-1.5 xl:right-0 xl:mt-0">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75" />
                        </svg>
                      </a>
                      


                      <article>
                        <header class="flex flex-col">
                          <h1 class="mt-6 text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-4xl">
                            Minitest Quick Reference
                          </h1>
                          <time datetime="2011-12-10" class="order-first flex items-center text-base text-zinc-400 dark:text-zinc-500">
                            <span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span>
                            <span class="ml-3">December 10, 2011 </span>
                          </time>
                        </header>
                        <div class="mt-8 prose dark:prose-invert">
                          <p>UPDATE: I’ve added a new section on stubbing with MiniTest and a few
helpful comments to the code samples.</p>

<p><a href="https://github.com/seattlerb/minitest">MiniTest</a>, as the name suggests, is a
small and fast unit testing framework. Shipped with Ruby 1.9, MiniTest supports
a complete suite of testing capabilities such as TDD, BDD, mocking, and benchmarking.<!--more--></p>

<p>This quick reference aims to demonstrate MiniTest’s main concepts and
provide real world examples to get you acquainted quickly. Let’s start with
MiniTest::Spec.</p>

<h3 id="minitestspec">MiniTest::Spec</h3>

<p>Provides RSpec-like matchers and contexts right out of the box.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'minitest/autorun'</span>

<span class="n">describe</span> <span class="no">Hipster</span><span class="p">,</span> <span class="s2">"Demonstration of MiniTest"</span> <span class="k">do</span>

  <span class="c1"># Runs codes before each expectation</span>
  <span class="n">before</span> <span class="k">do</span>
    <span class="vi">@hipster</span> <span class="o">=</span> <span class="no">Hipster</span><span class="p">.</span><span class="nf">new</span>
  <span class="k">end</span>

  <span class="c1"># Runs code after each expectation</span>
  <span class="n">after</span> <span class="k">do</span>
    <span class="vi">@hipster</span><span class="p">.</span><span class="nf">destroy!</span>
  <span class="k">end</span>

  <span class="c1"># Define accessors - lazily runs code when it's first used</span>
  <span class="n">let</span><span class="p">(</span><span class="ss">:hipster</span><span class="p">)</span> <span class="p">{</span> <span class="no">Hipster</span><span class="p">.</span><span class="nf">new</span><span class="p">}</span>
  <span class="n">let</span><span class="p">(</span><span class="ss">:traits</span><span class="p">)</span> <span class="p">{</span> <span class="p">[</span><span class="s2">"silly hats"</span><span class="p">,</span> <span class="s2">"skinny jeans"</span><span class="p">]</span> <span class="p">}</span>
  <span class="n">let</span><span class="p">(</span><span class="ss">:labels</span><span class="p">)</span> <span class="p">{</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span> <span class="p">}</span>

  <span class="c1"># Even lazier accessor - assigns `subject` as the name for us</span>
  <span class="c1"># this equivalent to let(:subject) { Hipster.new }</span>
  <span class="n">subject</span> <span class="p">{</span> <span class="no">Hipster</span><span class="p">.</span><span class="nf">new</span> <span class="p">}</span>

  <span class="n">it</span> <span class="s2">"#define"</span> <span class="k">do</span>
    <span class="n">hipster</span><span class="p">.</span><span class="nf">define</span><span class="p">.</span><span class="nf">must_equal</span> <span class="s2">"you wouldn't understand"</span>
  <span class="k">end</span>

  <span class="n">it</span> <span class="s2">"#walk?"</span> <span class="k">do</span>
    <span class="n">skip</span> <span class="s2">"I prefer to skip"</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"when asked about the font"</span> <span class="k">do</span>
    <span class="n">it</span> <span class="s2">"should be helvetica"</span> <span class="k">do</span>
      <span class="vi">@hipster</span><span class="p">.</span><span class="nf">preferred_font</span><span class="p">.</span><span class="nf">must_equal</span> <span class="s2">"helvetica"</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"when asked about mainstream"</span> <span class="k">do</span>
    <span class="n">it</span> <span class="s2">"won't be mainstream"</span> <span class="k">do</span>
      <span class="vi">@hipster</span><span class="p">.</span><span class="nf">mainstream?</span><span class="p">.</span><span class="nf">wont_equal</span> <span class="kp">true</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h4 id="matchers-must--wont">Matchers (must | wont)</h4>
<p>In most cases you can switch between <code class="language-plaintext highlighter-rouge">must</code> for positive expectations and <code class="language-plaintext highlighter-rouge">wont</code>
for negative expectations.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Assertion</th>
      <th style="text-align: left">Examples</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">labels.size.must_be :==, 0</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be_close_to</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">traits.size.must_be_close_to 1,1</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be_empty</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">labels.must_be_empty</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be_instance_of</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">hipster.must_be_instance_of Hipster</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be_kind_of</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">labels.must_be_kind_of Enumerable</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be_nil</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">labels.first.must_be_nil</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be_same_as</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">traits.must_be_same_as traits</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be_silent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">proc { "no stdout or stderr" }.must_be_silent</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_be_within_epsilon</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">traits.size.must_be_within_epsilon 1,1</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_equal</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">traits.size.must_equal 2</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_include</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">traits.must_include "skinny jeans"</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_match</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">traits.first.must_match /silly/</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_output</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">proc { print "#{traits.size}!" }.must_output "2!"</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_respond_to</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">traits.must_respond_to :count</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_raise</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">proc { traits.foo }.must_raise NoMethodError</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_send</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">traits.must_send [traits, :values_at, 0]</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">must_throw</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">proc { throw Exception if traits.any? }.must_throw Exception</code></td>
    </tr>
  </tbody>
</table>

<h3 id="minitestunittestcase">MiniTest::Unit::TestCase</h3>
<p>Provides a rich set of assertions to make your tests clean and readable.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'minitest/autorun'</span>

<span class="k">class</span> <span class="nc">TestHipster</span> <span class="o">&lt;</span> <span class="no">MiniTest</span><span class="o">::</span><span class="no">Unit</span><span class="o">::</span><span class="no">TestCase</span>
  <span class="k">def</span> <span class="nf">setup</span>
    <span class="vi">@hipster</span> <span class="o">=</span> <span class="no">Hipster</span><span class="p">.</span><span class="nf">new</span>
    <span class="vi">@labels</span>  <span class="o">=</span> <span class="no">Array</span><span class="p">.</span><span class="nf">new</span>
    <span class="vi">@traits</span>  <span class="o">=</span> <span class="p">[</span><span class="s2">"silly hats"</span><span class="p">,</span> <span class="s2">"skinny jeans"</span><span class="p">]</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">teardown</span>
    <span class="vi">@hipster</span><span class="p">.</span><span class="nf">destroy!</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_for_helvetica_font</span>
    <span class="n">assert_equal</span> <span class="s2">"helvetica!"</span><span class="p">,</span> <span class="vi">@hipster</span><span class="p">.</span><span class="nf">preferred_font</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">test_not_mainstream</span>
    <span class="n">refute</span> <span class="vi">@hipster</span><span class="p">.</span><span class="nf">mainstream?</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h4 id="assertions-assert--refute">Assertions (assert | refute)</h4>
<p>Toggle between <code class="language-plaintext highlighter-rouge">assert</code> for positive assertions and <code class="language-plaintext highlighter-rouge">refute</code> for negative assertions.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Assertion</th>
      <th style="text-align: left">Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert @traits.any?, "empty subjects"</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_empty</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_empty @labels</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_equal</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_equal 2, @traits.size</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_in_delta</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_in_delta @traits.size, 1,1</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_in_epsilon</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_in_epsilon @traits.size, 1, 1</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_includes</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_includes @traits, "skinny jeans"</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_instance_of</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_instance_of Hipster, @hipster</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_kind_of</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_kind_of Enumerable, @labels</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_match</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_match @traits.first, /silly/</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_nil</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_nil @labels.first</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_operator</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_operator @labels.size, :== , 0</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_output</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_output("Size: 2") { print "Size: #{@traits.size}"}</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_raises</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_raises(NoMethodError) { @traits.foo }</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_respond_to</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_respond_to @traits, :count</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_same</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_same @traits, @traits, "It's the same object silly"</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_send</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_send [@traits, :values_at, 0]</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_silent</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_silent { "no stdout or stderr" }</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_throws</code></td>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">assert_throws(Exception,'is empty') {throw Exception if @traits.any?}</code></td>
    </tr>
  </tbody>
</table>

<h3 id="miniteststub">MiniTest#stub</h3>
<p>Minitest provides a simple <code class="language-plaintext highlighter-rouge">stub</code> method we can use to return a pre-determined value.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'minitest/autorun'</span>

<span class="n">describe</span> <span class="no">Hipster</span><span class="p">,</span> <span class="s2">"Demonstrates stubbing with Minitest"</span> <span class="k">do</span>

  <span class="n">let</span><span class="p">(</span><span class="ss">:hipster</span><span class="p">)</span> <span class="p">{</span> <span class="no">Hipster</span><span class="p">.</span><span class="nf">new</span> <span class="p">}</span>

  <span class="n">it</span> <span class="s2">"trendy if time is now"</span> <span class="k">do</span>
    <span class="n">assert</span> <span class="n">hipster</span><span class="p">.</span><span class="nf">trendy?</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">now</span>
  <span class="k">end</span>

  <span class="n">it</span> <span class="s2">"it is NOT trendy if 2 weeks has past"</span> <span class="k">do</span>
    <span class="no">DateTime</span><span class="p">.</span><span class="nf">stub</span> <span class="ss">:now</span><span class="p">,</span> <span class="p">(</span><span class="no">Date</span><span class="p">.</span><span class="nf">today</span><span class="p">.</span><span class="nf">to_date</span> <span class="o">-</span> <span class="mi">14</span><span class="p">)</span> <span class="k">do</span>
      <span class="n">refute</span> <span class="n">hipster</span><span class="p">.</span><span class="nf">trendy?</span> <span class="no">DateTime</span><span class="p">.</span><span class="nf">now</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

</code></pre></div></div>

<h3 id="minitestmock">MiniTest::Mock</h3>
<p>A simple and clean mock system. There two essential methods at our disposal:
<code class="language-plaintext highlighter-rouge">expect</code> and <code class="language-plaintext highlighter-rouge">verify</code>.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'minitest/autorun'</span>

<span class="c1"># Make all of our Twitter updates hip</span>
<span class="k">class</span> <span class="nc">Twipster</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">twitter</span><span class="p">)</span>
    <span class="vi">@twitter</span> <span class="o">=</span> <span class="n">twitter</span> <span class="c1"># A Twitter API client</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">tweet</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="vi">@twitter</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">message</span><span class="si">}</span><span class="s2"> #lolhipster"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># Uses Mock#expect and Mock#verify</span>
<span class="n">describe</span> <span class="no">Twipster</span><span class="p">,</span> <span class="s2">"Make every tweet a hipster tweet."</span> <span class="k">do</span>
  <span class="n">before</span> <span class="k">do</span>
    <span class="vi">@twitter</span>  <span class="o">=</span> <span class="no">MiniTest</span><span class="o">::</span><span class="no">Mock</span><span class="p">.</span><span class="nf">new</span> <span class="c1"># Mock our Twitter API client</span>
  <span class="k">end</span>

  <span class="n">let</span><span class="p">(</span><span class="ss">:twipster</span><span class="p">)</span> <span class="p">{</span> <span class="no">Twipster</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="vi">@twitter</span><span class="p">)</span> <span class="p">}</span>
  <span class="n">let</span><span class="p">(</span><span class="ss">:message</span><span class="p">)</span> <span class="p">{</span> <span class="s2">"Skyrim? Too mainstream."</span><span class="p">}</span>

  <span class="n">it</span> <span class="s2">"should append a #lolhipster hashtag and update Twitter with our status"</span> <span class="k">do</span>
    <span class="vi">@twitter</span><span class="p">.</span><span class="nf">expect</span> <span class="ss">:update</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="p">[</span><span class="s2">"</span><span class="si">#{</span><span class="n">message</span><span class="si">}</span><span class="s2"> #lolhipster"</span><span class="p">]</span>
    <span class="vi">@twipster</span><span class="p">.</span><span class="nf">tweet</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

    <span class="n">assert</span> <span class="vi">@twitter</span><span class="p">.</span><span class="nf">verify</span> <span class="c1"># verifies tweet and hashtag was passed to `@twitter.update`</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="resources">Resources</h3>
<ol>
  <li><a href="https://github.com/seattlerb/minitest">MiniTest on Github</a></li>
  <li><a href="http://docs.seattlerb.org/minitest">MiniTest Rdoc</a></li>
  <li><a href="http://metaskills.net/2011/03/26/using-minitest-spec-with-rails">Using MiniTest::Spec with Rails</a></li>
  <li><a href="http://www.rubyinside.com/a-minitestspec-tutorial-elegant-spec-style-testing-that-comes-with-ruby-5354.html">Ruby Inside: A MiniTest::Spec Tutorial: Elegant Spec-Style Testing That Comes With Ruby</a></li>
</ol>

<p>I hope you found this quick guide valuable. Please let me know if you’d like
to see anything else included and feel free to ask questions or give feedback
in the comments section.</p>

                        </div>
                      </article>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
        
<footer class="mt-24">
  <div class="sm:px-8">
    <div class="mx-auto max-w-7xl lg:px-8">
      <div class="border-t border-zinc-100 pt-10 pb-16 dark:border-zinc-700/40">
        <div class="relative px-4 sm:px-8 lg:px-12">
          <div class="mx-auto max-w-2xl lg:max-w-5xl">
            <div class="flex flex-col items-center justify-between gap-6 sm:flex-row">
              <div class="flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200">
                <a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/">Home</a>
                <a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/about">About</a>
                <a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/work">Work</a>
                <a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/articles">Journal</a>
              </div>
              <p class="text-sm text-zinc-400 dark:text-zinc-500">
                © 2023 Matt Sears. All rights reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

      </div>
    </div>
  </body>
</html>
